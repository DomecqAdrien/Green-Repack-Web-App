<div class="container" *ngIf="isLoaded">
    <mat-tab-group>
        <mat-tab label="Informations de compte">
            <div *ngIf="userInfos.role == 'Utilisateur'">
                <button mat-raised-button color="primary" (click)="becomeMarchand()">Devenir marchand</button>
            </div>
            <form [formGroup]="form">
                <div class="p-3 py-5">
                    <div class="row mt-2">
                        <div class="col-md-6"><label class="labels">Pr√©nom</label><input formControlName="prenom" type="text" class="form-control" ></div>
                        <div class="col-md-6"><label class="labels">Nom</label><input formControlName="nom" type="text" class="form-control"></div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-12"><label class="labels">Email</label><input formControlName="email" type="text" class="form-control" ></div>
                        <div class="col-md-12"><label class="labels">Adresse</label><input formControlName="adresse" type="text" class="form-control" ></div>
                        <div class="col-md-12"><label class="labels">Code postal</label><input formControlName="codePostal" type="text" class="form-control" ></div>
                        <div class="col-md-12"><label class="labels">Ville</label><input formControlName="ville" type="text" class="form-control" ></div>
                    </div>
                    <hr>
                    <h3>Changer le mot de passe</h3>
                    <div class="row mt-3">
                        <div class="col-md-6"><label class="labels">Entrer un mot de passe</label><input formControlName="password" type="text" class="form-control" placeholder="Mot de passe" value=""></div>
                        <div class="col-md-6"><label class="labels">Confirmer notre mot de passe</label><input formControlName="confirmPassword" type="text" class="form-control"  value="" placeholder="Confirmer votre mot de passe"></div>
                    </div>
                    <div class="mt-5 text-center">
                        <button class="btn btn-primary profile-button" type="button" (click)="save()">Sauvegarder</button>
                    </div>
                </div>
            </form>
        </mat-tab>
        <mat-tab label="Achats">
            <mat-table [dataSource]="dataSourceAchats" matSort class="mat-elevation-z8">
                <ng-container matColumnDef="date">
                    <mat-header-cell *matHeaderCellDef mat-sort-header="date"> Date </mat-header-cell>
                    <mat-cell *matCellDef="let achat"> {{ achat.date }} </mat-cell>
                </ng-container>
                
                <ng-container matColumnDef="prix">
                    <mat-header-cell *matHeaderCellDef mat-sort-header="prix"> Statut </mat-header-cell>
                    <mat-cell *matCellDef="let achat"> {{ achat.prix }} </mat-cell>
                </ng-container>
        
                <ng-container matColumnDef="produit">
                    <mat-header-cell *matHeaderCellDef mat-sort-header="produit"> Produit </mat-header-cell>
                    <mat-cell *matCellDef="let achat"> {{ achat.produit.titre }} </mat-cell>
                </ng-container>
        
                <mat-header-row *matHeaderRowDef="displayedColumnsAchats"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumnsAchats;"></mat-row>
            </mat-table>
        </mat-tab>

        

        <mat-tab label="Ventes">
            <mat-table [dataSource]="dataSourceVentes" matSort class="mat-elevation-z8">
                <ng-container matColumnDef="date">
                    <mat-header-cell *matHeaderCellDef mat-sort-header="date"> Date </mat-header-cell>
                    <mat-cell *matCellDef="let vente"> {{ vente.date }} </mat-cell>
                </ng-container>
                
                <ng-container matColumnDef="statut">
                    <mat-header-cell *matHeaderCellDef mat-sort-header="statut"> Statut </mat-header-cell>
                    <mat-cell *matCellDef="let vente"> {{ vente.statut }} </mat-cell>
                </ng-container>
        
                <ng-container matColumnDef="produit">
                    <mat-header-cell *matHeaderCellDef mat-sort-header="produit"> Produit </mat-header-cell>
                    <mat-cell *matCellDef="let vente"> {{ vente.produit.titre }} </mat-cell>
                </ng-container>
        
                <mat-header-row *matHeaderRowDef="displayedColumnsVentes"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumnsVentes;"></mat-row>
            </mat-table>
        </mat-tab>
    </mat-tab-group>
</div>
